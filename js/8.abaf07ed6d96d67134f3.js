(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{D1y3:function(e,t,l){},Zqm2:function(e,t,l){"use strict";var s=l("D1y3");l.n(s).a},kz8w:function(e,t,l){"use strict";l.r(t);var s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{staticClass:"switchRow"},[e._v("\n        Mode Switch: \n        "),l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{autosize:{minRows:30},type:"textarea",placeholder:"请输入内容"},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}})],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{autosize:{minRows:30},type:"textarea",placeholder:"请输入内容"},model:{value:e.format[0],callback:function(t){e.$set(e.format,0,t)},expression:"format[0]"}})],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("div",{staticClass:"result",domProps:{innerHTML:e._s(e.format[1])}})])],1)],1)};s._withStripped=!0;var a={name:"Xml",data:()=>({type:!0,source:""}),computed:{format(){return this.source=this.source.replace(/\n/g,"").replace(/\t/g," ").replace(/>[ ]+/g,">").replace(/[ ]+</g,"<").replace(/ +/g," "),this.type?this.formatXmlBySplit(this.source):this.formatXmlByDOMParser(this.source)}},mounted(){},methods:{formatXmlByDOMParser(e){let t=null;const l=e.replace(/[\n\r]/g,"");try{t=(new DOMParser).parseFromString(l,"text/xml")}catch(e){return!1}let s=[[],[]];return console.log("--------------"),this.formatXmlWithDOMParser(s,t.documentElement,0),console.log(s),[s[0].join(""),s[1].join("")]},formatXmlWithDOMParser(e,t,l){let s=t.nodeType,a="ㅤ",n=e[0],r=e[1];switch(s){case Node.ELEMENT_NODE:n.push("".padStart(l*a.length,a)+"<"+t.nodeName+">"),n.push("\n"),r.push("".padStart(l*a.length,a)+`<span class="inline xml_item_${l}">&lt;${t.nodeName}></span>`),r.push("<br/>");for(let s=0;s<t.childNodes.length;s++)this.formatXmlWithDOMParser(e,t.childNodes[s],l+1);0===t.childNodes.length&&(n.splice(n.length-1,1),r.splice(r.length-1,1),a=""),t.childNodes[0]&&t.childNodes[0].nodeType!==Node.ELEMENT_NODE&&(n.splice(n.length-2,1),r.splice(r.length-2,1),a=""),n.push("".padStart(l*a.length,a)+"</"+t.nodeName+">"),n.push("\n"),r.push("".padStart(l*a.length,a)+`<span class="inline xml_item_${l}">&lt;/${t.nodeName}></span>`),r.push("<br/>");break;case Node.TEXT_NODE:n.push(t.nodeValue),r.push(`<span class="inline xml_item_text">${t.nodeValue}</span>`);break;case Node.CDATA_SECTION_NODE:n.push(t.nodeValue),r.push(`<span class="inline xml_item_cdata">${t.nodeValue}</span>`)}},formatXmlBySplit(e){let t=e.replace(/<!\[CDATA\[[\s\S]*?]]>/g,e=>`BEGIN_CDATA${encodeURIComponent(e)}END_CDATA`).split("<");t=t.slice(1);let l=[];for(let e of t)if(e="<"+e,e.lastIndexOf(">")===e.length-1)l.push(e);else{let t=e.split(">");l.push(t[0]+">"),l.push(t[1])}let s=[];for(let e of l)e&&""!==e.trim()&&"\n"!==e.trim()&&s.push(e);let a=-1,n=[],r=[],o=!1,i=!0;for(let e of s){let t,l;e=e.replace(/BEGIN_CDATA.*?END_CDATA/g,e=>decodeURIComponent(e.replace("BEGIN_CDATA","").replace("END_CDATA",""))),e=e.replace("<","&lt;"),e=e.replace(">","&gt;"),0===e.indexOf("&lt;?")&&e.lastIndexOf("?&gt;")===e.length-5||0===e.indexOf("&lt;!--")&&e.lastIndexOf("--&gt;")===e.length-6?(o||a++,o=!0,i=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${a}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;![CDATA")?(o||a++,o=!0,i=!0,t=`my_blank_word${e}\n`,l=`<span class="xml_item_cdata">&lt;![CDATA[</span>${e.substring(12,e.length-6)}<span class="xml_item_cdata">]]&gt;</span>`,l=`<div class="xml_item_text">my_blank_word<span>${l}</span></div>`):0===e.indexOf("&lt;!")?(o||a++,o=!0,i=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${a}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;/")?((i||o)&&a--,o=!0,i=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${a}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;")&&e.lastIndexOf("/&gt;")===e.length-5?(o||a++,o=!0,i=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${a}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;")?(o||a++,o=!1,i=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${a}">my_blank_word<span>${e}</span></div>`):(a++,o=!1,i=!0,t=`my_blank_word${e}\n`,l=`<div class="xml_item_text">my_blank_word<span>${e}</span></div>`);let s="",p="";for(let e=0;e<a;e++)s+='<span class="xml_space"></span>',p+="  ";t=t.replace("my_blank_word",p),l=l.replace("my_blank_word",s),r.push(l),n.push(t)}let p="",c="";for(let e of r)p+=e;for(let e of n)c+=e;return c=c.replace(/&lt;/g,"<"),c=c.replace(/&gt;/g,">"),[c,p]}}},n=(l("Zqm2"),l("KHd+")),r=Object(n.a)(a,s,[],!1,null,"7eb3d0ce",null);r.options.__file="src/views/tools/Xml.vue";t.default=r.exports}}]);