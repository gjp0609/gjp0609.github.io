(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{D1y3:function(e,t,l){},Zqm2:function(e,t,l){"use strict";var a=l("D1y3");l.n(a).a},kz8w:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",[l("el-card",[l("div",{staticClass:"buttons"},[l("div",[l("span",[e._v("Mode Switch:")]),e._v(" "),l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.splitMode,callback:function(t){e.splitMode=t},expression:"splitMode"}})],1),e._v(" "),l("div",[l("span",[e._v("Show Plain Text:")]),e._v(" "),l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.plainText,callback:function(t){e.plainText=t},expression:"plainText"}})],1)])])],1),e._v(" "),l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{autosize:{minRows:30},type:"textarea",placeholder:"请输入内容"},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}})],1),e._v(" "),e.plainText?l("el-col",{attrs:{span:8}},[l("el-input",{attrs:{autosize:{minRows:30},type:"textarea",placeholder:"请输入内容"},model:{value:e.format[0],callback:function(t){e.$set(e.format,0,t)},expression:"format[0]"}})],1):e._e(),e._v(" "),l("el-col",{attrs:{span:e.plainText?8:16}},[l("div",{staticClass:"result",domProps:{innerHTML:e._s(e.format[1])}})])],1)],1)};a._withStripped=!0;var s={name:"Xml",data:()=>({splitMode:!1,plainText:!1,source:""}),computed:{format(){return this.source=this.source.replace(/\n/g,"").replace(/\t/g," ").replace(/>[ ]+/g,">").replace(/[ ]+</g,"<").replace(/ +/g," "),this.splitMode?this.formatXmlBySplit(this.source):this.formatXmlByDOMParser(this.source)}},mounted(){},methods:{formatXmlByDOMParser(e){if(!e)return["",""];let t=null;const l=e.replace(/[\n\r]/g,"");try{t=(new DOMParser).parseFromString(l,"text/xml")}catch(e){return!1}let a=[[],[]];return console.log("--------------"),this.formatXmlWithDOMParser(a,t.documentElement,0),console.log(a),[a[0].join(""),a[1].join("")]},formatXmlWithDOMParser(e,t,l){let a=t.nodeType,s="ㅤ",n=e[0],o=e[1];switch(a){case Node.ELEMENT_NODE:n.push("".padStart(l*s.length,s)+"<"+t.nodeName+">"),n.push("\n"),o.push("".padStart(l*s.length,s)+`<span class="inline xml_item_${l}">&lt;${t.nodeName}></span>`),o.push("<br/>");for(let a=0;a<t.childNodes.length;a++)this.formatXmlWithDOMParser(e,t.childNodes[a],l+1);0===t.childNodes.length&&(n.splice(n.length-1,1),o.splice(o.length-1,1),s=""),t.childNodes[0]&&-1===[Node.ELEMENT_NODE,Node.COMMENT_NODE].indexOf(t.childNodes[0].nodeType)&&(n.splice(n.length-2,1),o.splice(o.length-2,1),s=""),n.push("".padStart(l*s.length,s)+"</"+t.nodeName+">"),n.push("\n"),o.push("".padStart(l*s.length,s)+`<span class="inline xml_item_${l}">&lt;/${t.nodeName}></span>`),o.push("<br/>");break;case Node.TEXT_NODE:n.push(t.nodeValue),o.push(`<span class="inline xml_item_text">${t.nodeValue}</span>`);break;case Node.COMMENT_NODE:n.push("".padStart(l*s.length,s)+"\x3c!-- "),n.push(t.nodeValue+" --\x3e"),n.push("\n"),o.push("".padStart(l*s.length,s)+`<span class="inline xml_item_${l}">&lt;!-- </span>`),o.push(`<span class="inline xml_item_comment">${t.nodeValue}</span>`),o.push(`<span class="inline xml_item_${l}"> --\x3e</span>`),o.push("<br/>");break;case Node.CDATA_SECTION_NODE:n.push(t.nodeValue),o.push(`<span class="inline xml_item_cdata">${t.nodeValue}</span>`)}},formatXmlBySplit(e){let t=e.replace(/<!\[CDATA\[[\s\S]*?]]>/g,e=>`BEGIN_CDATA${encodeURIComponent(e)}END_CDATA`).split("<");t=t.slice(1);let l=[];for(let e of t)if(e="<"+e,e.lastIndexOf(">")===e.length-1)l.push(e);else{let t=e.split(">");l.push(t[0]+">"),l.push(t[1])}let a=[];for(let e of l)e&&""!==e.trim()&&"\n"!==e.trim()&&a.push(e);let s=-1,n=[],o=[],i=!1,r=!0;for(let e of a){let t,l;e=e.replace(/BEGIN_CDATA.*?END_CDATA/g,e=>decodeURIComponent(e.replace("BEGIN_CDATA","").replace("END_CDATA",""))),e=e.replace("<","&lt;"),e=e.replace(">","&gt;"),0===e.indexOf("&lt;?")&&e.lastIndexOf("?&gt;")===e.length-5||0===e.indexOf("&lt;!--")&&e.lastIndexOf("--&gt;")===e.length-6?(i||s++,i=!0,r=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${s}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;![CDATA")?(i||s++,i=!0,r=!0,t=`my_blank_word${e}\n`,l=`<span class="xml_item_cdata">&lt;![CDATA[</span>${e.substring(12,e.length-6)}<span class="xml_item_cdata">]]&gt;</span>`,l=`<div class="xml_item_text">my_blank_word<span>${l}</span></div>`):0===e.indexOf("&lt;!")?(i||s++,i=!0,r=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${s}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;/")?((r||i)&&s--,i=!0,r=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${s}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;")&&e.lastIndexOf("/&gt;")===e.length-5?(i||s++,i=!0,r=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${s}">my_blank_word<span>${e}</span></div>`):0===e.indexOf("&lt;")?(i||s++,i=!1,r=!1,t=`my_blank_word${e}\n`,l=`<div class="xml_item_${s}">my_blank_word<span>${e}</span></div>`):(s++,i=!1,r=!0,t=`my_blank_word${e}\n`,l=`<div class="xml_item_text">my_blank_word<span>${e}</span></div>`);let a="",p="";for(let e=0;e<s;e++)a+='<span class="xml_space"></span>',p+="  ";t=t.replace("my_blank_word",p),l=l.replace("my_blank_word",a),o.push(l),n.push(t)}let p="",c="";for(let e of o)p+=e;for(let e of n)c+=e;return c=c.replace(/&lt;/g,"<"),c=c.replace(/&gt;/g,">"),[c,p]}}},n=(l("Zqm2"),l("KHd+")),o=Object(n.a)(s,a,[],!1,null,"7eb3d0ce",null);o.options.__file="src/views/tools/Xml.vue";t.default=o.exports}}]);